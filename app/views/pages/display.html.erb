<h1>Historical Chances</h1>
<p>Not intended as investment advice.</p>
<p>Based on Yahoo! historical data</p>

 Yesterday's prices: 
<table border="1" >
<tr><td>day</td><td>open</td><td>high</td><td>low</td><td>last</td>
</tr>
<tr>
<td>today</td>
<td><%= "%.2f" % @cross_percent[:today_open] %></td>
<td><%= "%.2f" % @cross_percent[:today_high] %></td>
<td><%= "%.2f" % @cross_percent[:today_low] %></td>
<td><%= "%.2f" % @cross_percent[:today_last] %></td>
</tr>

<tr>
<td>yesterday</td>
<td><%= "%.2f" % @cross_percent[:yesterday_open] %></td>
<td><%= "%.2f" % @cross_percent[:yesterday_high] %></td>
<td><%= "%.2f" % @cross_percent[:yesterday_low] %></td>
<td><%= "%.2f" % @cross_percent[:yesterday_last] %></td>
</tr>
</table>
pivot points - historical odds based on open in relation to today's pivot values
<table border="1" >
   
<tr>
<td colspan="2">Occurences</td>
<td><%= @cross_percent[:total_pivot_rows] %></td>
</tr>
<tr>
<td>s3</td><td>s2</td><td>s1</td><td>pivot</td><td>r1</td><td>r2</td><td>r3</td>
</tr>
<tr> 
<td><%= "%.2f" % @cross_percent[:s3] %></td>
<td><%= "%.2f" % @cross_percent[:s2] %></td>  
<td><%= "%.2f" % @cross_percent[:s1] %></td>      
<td><%= "%.2f" % @cross_percent[:pivot] %></td>
<td><%= "%.2f" % @cross_percent[:r1] %></td>
<td><%= "%.2f" % @cross_percent[:r2] %></td>
<td><%= "%.2f" % @cross_percent[:r3] %></td>
</tr>
<tr> 
<td><%= "%.0f" % ( @cross_percent[:total_s3_cross] * 100.0 /@cross_percent[:total_pivot_rows] )  %> % </td>
<td><%= "%.0f" % ( @cross_percent[:total_s2_cross] * 100.0 /@cross_percent[:total_pivot_rows] )  %> % </td>
<td><%= "%.0f" % ( @cross_percent[:total_s1_cross] * 100.0 /@cross_percent[:total_pivot_rows] )  %> % </td>
<td><%= "%.0f" % ( @cross_percent[:total_pivot_cross] * 100.0 /@cross_percent[:total_pivot_rows] )  %> % </td>
<td><%= "%.0f" % ( @cross_percent[:total_r1_cross] * 100.0 /@cross_percent[:total_pivot_rows] )  %> % </td>
<td><%= "%.0f" % ( @cross_percent[:total_r2_cross] * 100.0 /@cross_percent[:total_pivot_rows] )  %> % </td>
<td><%= "%.0f" % ( @cross_percent[:total_r3_cross] * 100.0 /@cross_percent[:total_pivot_rows] )  %> % </td>
</tr>
</table>
historical odds based on lookback/lookforward and where the opening is compared to high / low in look back values.
<table border="1">
<tr>
<td colspan="2">Ocurrences</td>
<td><%= @cross_percent[:total_rows] %> </td>
<td colspan="3">median daily range </td> 
<td> <%= "%.2f" % @cross_percent[:median_range] %> </td>
</tr>
<tr>
<td><%= "%.2f" %  @cross_percent[:cross_pts][0] %></td>
<td><%= "%.2f" %  @cross_percent[:cross_pts][1] %></td>
<td><%= "%.2f" %  @cross_percent[:cross_pts][2] %></td>
<td><%= "%.2f" %  @cross_percent[:cross_pts][3] %></td>
<td><%= "%.2f" %  @cross_percent[:cross_pts][4] %></td>
<td><%= "%.2f" %  @cross_percent[:cross_pts][5] %></td>
<td><%= "%.2f" %  @cross_percent[:cross_pts][6] %></td>
<td><%= "%.2f" %  @cross_percent[:cross_pts][7] %></td>
<td><%= "%.2f" %  @cross_percent[:cross_pts][8] %></td>
<td><%= "%.2f" %  @cross_percent[:cross_pts][9] %></td>
<td><%= "%.2f" %  @cross_percent[:cross_pts][10] %></td>
<td><%= "%.2f" %  @cross_percent[:cross_pts][11] %></td>
</tr>
<tr>
<td><%= "%.0f" % ( 100.0 * @cross_percent[:range_crosses][0]  / @cross_percent[:total_rows] )  %> % </td>
<td><%= "%.0f" % ( 100.0 * @cross_percent[:range_crosses][1]  / @cross_percent[:total_rows] )  %> % </td>
<td><%= "%.0f" % ( 100.0 * @cross_percent[:range_crosses][2]  / @cross_percent[:total_rows] )  %> % </td>
<td><%= "%.0f" % ( 100.0 * @cross_percent[:range_crosses][3]  / @cross_percent[:total_rows] )  %> % </td>
<td><%= "%.0f" % ( 100.0 * @cross_percent[:range_crosses][4]  / @cross_percent[:total_rows] )  %> % </td>
<td><%= "%.0f" % ( 100.0 * @cross_percent[:range_crosses][5]  / @cross_percent[:total_rows] )  %> % </td>
<td><%= "%.0f" % ( 100.0 * @cross_percent[:range_crosses][6]  / @cross_percent[:total_rows] )  %> % </td>
<td><%= "%.0f" % ( 100.0 * @cross_percent[:range_crosses][7]  / @cross_percent[:total_rows] )  %> % </td>
<td><%= "%.0f" % ( 100.0 * @cross_percent[:range_crosses][8]  / @cross_percent[:total_rows] )  %> % </td>
<td><%= "%.0f" % ( 100.0 * @cross_percent[:range_crosses][9]  / @cross_percent[:total_rows] )  %> % </td>
<td><%= "%.0f" % ( 100.0 * @cross_percent[:range_crosses][10]  / @cross_percent[:total_rows] )  %> % </td>
<td><%= "%.0f" % ( 100.0 * @cross_percent[:range_crosses][11]  / @cross_percent[:total_rows] )  %> % </td>
</tr>

</table>
chance of crossing yesterday's low/high based on historical odds looking at the difference between today's open and yesterday's high (low) and how often the high (low) was crossed.
<table border="1">
<tr><td>low cross</td> <td> high cross</td> </tr>
<tr>
<td> 
<%= "%.0f" % ( 100.0 * @cross_percent[:prior_low_cross] / @cross_percent[:prior_low_count] ) %> % </td>
<td> <%="%.0f" % ( 100.0 *  @cross_percent[:prior_high_cross] / @cross_percent[:prior_high_count] ) %> % </td>
</tr>
</table>

 <%= render 'layouts/inputs' %>
